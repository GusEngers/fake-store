<!DOCTYPE html>
<html lang="es">
<head>
  <%- include('../utils/head', { title: 'Documentación'}) %>
</head>
<body>
  <%# Barra de Navegación %>
  <%- include('../components/navbar', { page: 'docs' }) %>

  <%# Aplicación Principal %>
  <main id="docs-main">
    <section id="docs-index">
      <h2><a href="#category">Categorías</a></h2>
      <ul>
        <li><a href="#post-category">Añadir Categoría</a></li>
        <li><a href="#get-categories">Lista de Categorías</a></li>
        <li><a href="#get-category">Obtener Categoría</a></li>
      </ul>
    </section>
    <section id="docs-section">
      <h1>Documentación</h1>

      <hr class="type-divisor" />

      <section id="category">
        <h2>Categorías</h2>
        <p>Estas rutas gestionan la creación, obtención, actulización y eliminación de categorías de productos de la tienda</p>
      </section>

      <hr class="big-divisor" />

      <section id="post-category">
        <h3><span class="post-method">POST</span> - Añadir Categoría</h3>
        <p>Añade una nueva categoría a la base de datos. Esta consulta verifica el cuerpo de la solicitud para evitar recibir datos incorrectos o vacíos.</p>

        <h4>Ejemplo solicitud correcta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">POST https://fake-store-alpha.vercel.app/api/categories HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>
          <span style="padding-left: 10px;">Content-Length: 61</span>
          
          <span style="padding-left: 10px;">{"name":"Electrónica","description":"Productos electrónicos"}</span>

        </pre>
        
        <h4>201 - Created</h4>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 201 Created</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>
          <span style="padding-left: 10px;">Location: http://fake-store-alpha.vercel.app/api/categories/&lt;--ID--&gt;</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"id": &lt;--ID--&gt;,</span>
          <span style="padding-left: 20px;">"name": "electrónica",</span>
          <span style="padding-left: 20px;">"description": "productos eletrónicos",</span>
          <span style="padding-left: 20px;">"paths": &lbrack;</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "GET"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "PUT"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "DELETE"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "products",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;/products",</span>
              <span style="padding-left: 40px;">"action": "GET"</span>
            <span style="padding-left: 30px;">&rbrace;</span>
          <span style="padding-left: 20px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>

        <hr />

        <h4>Ejemplo solicitud incorrecta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">POST https://fake-store-alpha.vercel.app/api/categories HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>
        
        <h4>400 - Bad Request</h4>
        <em>Si no se proporcionan en el cuerpo de la solicitud los datos necesarios para crear una categoría, responderá con un error</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 400 Bad Request</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"message": "Error verifying the data required to create a new category",</span>
          <span style="padding-left: 20px;">"status": 400,</span>
          <span style="padding-left: 20px;">"errors": &lbrack;</span>
            <span style="padding-left: 30px;">"The value of the 'name' property is required",</span>
            <span style="padding-left: 30px;">"The value of the 'description' property is required"</span>
          <span style="padding-left: 20px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>
      </section>

      <hr class="big-divisor"/>

      <section id="get-categories">
        <h3><span class="get-method">GET</span> - Lista de Categorías</h3>
        <p>Retorna una lista de categorías disponibles en la base de datos. Se puede modificar la cantidad de elementos retornados usando parámetros de consultas.</p>

        <h4>Ejemplo solicitud correcta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">GET https://fake-store-alpha.vercel.app/api/categories HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>

        <h4>200 - OK</h4>
        <em>Por defecto, los parámetros de consulta "limit" tendrá como valor 10 y "offset" tendrá como valor 0</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 200 OK</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"total": 10, // Total de catagorías almacenadas en la base de datos</span>
          <span style="padding-left: 20px;">"current": 10, // Total de catagorías retornadas en esta consulta</span>
          <span style="padding-left: 20px;">"categories": &lbrack;</span>
            <span style="padding-left: 30px;">&lbrace;</span>
            <span style="padding-left: 40px;">"id": &lt;--ID--&gt;,</span>
            <span style="padding-left: 40px;">"name": "electrónica",</span>
            <span style="padding-left: 40px;">"description": "productos eletrónicos",</span>
            <span style="padding-left: 40px;">"paths": &lbrack;</span>
              <span style="padding-left: 50px;">&lbrace;</span>
                <span style="padding-left: 60px;">"ref": "self",</span>
                <span style="padding-left: 60px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
                <span style="padding-left: 60px;">"action": "GET"</span>
              <span style="padding-left: 50px;">&rbrace;,</span>
              <span style="padding-left: 50px;">&lbrace;</span>
                <span style="padding-left: 60px;">"ref": "self",</span>
                <span style="padding-left: 60px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
                <span style="padding-left: 60px;">"action": "PUT"</span>
              <span style="padding-left: 50px;">&rbrace;,</span>
              <span style="padding-left: 50px;">&lbrace;</span>
                <span style="padding-left: 60px;">"ref": "self",</span>
                <span style="padding-left: 60px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
                <span style="padding-left: 60px;">"action": "DELETE"</span>
              <span style="padding-left: 50px;">&rbrace;,</span>
              <span style="padding-left: 50px;">&lbrace;</span>
                <span style="padding-left: 60px;">"ref": "products",</span>
                <span style="padding-left: 60px;">"href": "/api/categories/&lt;--ID--&gt;/products",</span>
                <span style="padding-left: 60px;">"action": "GET"</span>
              <span style="padding-left: 50px;">&rbrace;</span>
            <span style="padding-left: 40px;">&rbrack;</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace; ... &rbrace;,</span>
          <span style="padding-left: 20px;">&rbrack;,</span>
          <span style="padding-left: 20px;">"paths": &lbrack;</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories",</span>
              <span style="padding-left: 40px;">"action": "POST"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories?limit=10&offset=0",</span>
              <span style="padding-left: 40px;">"action": "GET"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories?limit=10&offset=0",</span>
              <span style="padding-left: 40px;">"action": "PUT"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories?limit=10&offset=0",</span>
              <span style="padding-left: 40px;">"action": "DELETE"</span>
            <span style="padding-left: 30px;">&rbrace;</span>
          <span style="padding-left: 20px;">&rbrack;</span>

        </pre>

        <hr />

        <h4>Ejemplo solicitud incorrecta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">GET https://fake-store-alpha.vercel.app/api/categories?limit=&lt;--LIMIT--&gt;&offset=&lt;--OFFSET--&gt; HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>

        <h4>400 - Bad Request</h4>
        <em>Si el valor de "offset" es mayor que la cantidad total de registros de categorías almacenados en la base de datos, responderá con un error</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 400 Bad Request</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"message": "'offset' should not be greater than the total 'count' of categories, currently 'offset' is &lt;--OFFSET--&gt; and total categories is 10",</span>
          <span style="padding-left: 20px;">"status": 400</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>

        <h4>400 - Bad Request</h4>
        <em>Si se especifica un valor mayor a 50 en "limit" o en "offset", responderá con un error</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 400 Bad Request</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"message": "Error setting 'limit' and/or 'offset'",</span>
          <span style="padding-left: 20px;">"status": 400,</span>
            <span style="padding-left: 20px;">"errors": &lbrack;</span>
              <span style="padding-left: 30px;">"'limit' cannot have values greater than 50",</span>
              <span style="padding-left: 30px;">"'offset' cannot have values greater than 50"</span>
            <span style="padding-left: 20px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>
      </section>

      <hr class="big-divisor" />

      <section id="get-category">
        <h3><span class="get-method">GET</span> - Obtener Categoría</h3>
        <p>Busca la categoría según su id en la base de datos. Si lo encuentra retorna los datos de la categoría, en caso contrario retorna una respuesta con un mensaje de error.</p>

        <h4>Ejemplo solicitud correcta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">GET https://fake-store-alpha.vercel.app/api/categories/&lt;--ID--&gt; HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>

        <h4>200 - OK</h4>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 200 OK</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"id": &lt;--ID--&gt;,</span>
          <span style="padding-left: 20px;">"name": "electrónica",</span>
          <span style="padding-left: 20px;">"description": "productos eletrónicos",</span>
          <span style="padding-left: 20px;">"paths": &lbrack;</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "GET"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "PUT"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "self",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 40px;">"action": "DELETE"</span>
            <span style="padding-left: 30px;">&rbrace;,</span>
            <span style="padding-left: 30px;">&lbrace;</span>
              <span style="padding-left: 40px;">"ref": "products",</span>
              <span style="padding-left: 40px;">"href": "/api/categories/&lt;--ID--&gt;/products",</span>
              <span style="padding-left: 40px;">"action": "GET"</span>
            <span style="padding-left: 30px;">&rbrace;</span>
          <span style="padding-left: 20px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>

        <hr />

        <h4>Ejemplo solicitud incorrecta</h4>
        <pre>
          <span class="type-request">HTTP</span>

          <span style="padding-left: 10px;">GET https://fake-store-alpha.vercel.app/api/categories/&lt;--ID--&gt; HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>

        <h4>404 - Not Found (Categoría no encontrada)</h4>
        <em>Si se proporciona un ID de un producto que no está almacenado en la base de datos responderá con un error</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 404 Not Found</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"message": "The category doesn't exist",</span>
          <span style="padding-left: 20px;">"status": 404</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>

        <h4>400 - Bad Request (Formato de ID inválido)</h4>
        <em>Los ID son numéricos, si se usa otro formato responderá con un error</em>
        <pre>
          <span class="type-request">HTTP</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 400 Bad Request</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 20px;">"message": "The format of the 'id' is invalid",</span>
          <span style="padding-left: 20px;">"status": 400</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>
      </section>

      <hr class="big-divisor" />

    </section>
  </main>

  <%# Scripts %>
  <%- include('../utils/scripts') %>
</body>
</html>