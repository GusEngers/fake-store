<!DOCTYPE html>
<html lang="es">
<head>
  <%- include('../utils/head', { title: 'Documentación'}) %>
</head>
<body>
  <%# Barra de Navegación %>
  <%- include('../components/navbar', { page: 'docs' }) %>

  <%# Aplicación Principal %>
  <main id="docs-main">
    <section id="docs-index">
      <h2><a href="#category">Categorías</a></h2>
      <ul>
        <li><a href="#post-category">Añadir Categoría</a></li>
        <li><a href="#get-category">Obtener Categoría</a></li>
        <li><a href="#get-categories">Lista de Categorías</a></li>
      </ul>
    </section>
    <section id="docs-section">
      <h1>Documentación</h1>

      <hr class="big-divisor" />

      <section id="category">
        <h2>Categorías</h2>
        <p>Estas rutas gestionan la creación, obtención, actulización y eliminación de categorías de productos de la tienda</p>
      </section>

      <hr class="big-divisor" />

      <section id="post-category">
        <h3><span class="post-method">POST</span> - Añadir Categoría</h3>
        <p>Añade una nueva categoría a la base de datos. Esta consulta verifica el cuerpo de la solicitud para evitar recibir datos incorrectos o vacíos.</p>

        <h4>Ejemplo solicitud correcta</h4>
        <pre>
          <span class="type-request">HTML</span>

          <span style="padding-left: 10px;">POST https://fake-store-alpha.vercel.app/api/categories HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>
          <span style="padding-left: 10px;">Content-Length: 61</span>
          
          <span style="padding-left: 10px;">{"name":"Electrónica","description":"Productos electrónicos"}</span>

        </pre>
        
        <h4>201 - Created</h4>
        <pre>
          <span class="type-request">HTML</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 201 Created</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>
          <span style="padding-left: 10px;">Location: http://fake-store-alpha.vercel.app/api/categories/&lt;--ID--&gt;</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 15px;">"id": &lt;--ID--&gt;,</span>
          <span style="padding-left: 15px;">"name": "electrónica",</span>
          <span style="padding-left: 15px;">"description": "productos eletrónicos",</span>
          <span style="padding-left: 15px;">"paths": &lbrack;</span>
            <span style="padding-left: 20px;">&lbrace;</span>
              <span style="padding-left: 25px;">"ref": "self",</span>
              <span style="padding-left: 25px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 25px;">"action": "GET"</span>
            <span style="padding-left: 20px;">&rbrace;,</span>
            <span style="padding-left: 20px;">&lbrace;</span>
              <span style="padding-left: 25px;">"ref": "self",</span>
              <span style="padding-left: 25px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 25px;">"action": "PUT"</span>
            <span style="padding-left: 20px;">&rbrace;,</span>
            <span style="padding-left: 20px;">&lbrace;</span>
              <span style="padding-left: 25px;">"ref": "self",</span>
              <span style="padding-left: 25px;">"href": "/api/categories/&lt;--ID--&gt;",</span>
              <span style="padding-left: 25px;">"action": "DELETE"</span>
            <span style="padding-left: 20px;">&rbrace;,</span>
            <span style="padding-left: 20px;">&lbrace;</span>
              <span style="padding-left: 25px;">"ref": "products",</span>
              <span style="padding-left: 25px;">"href": "/api/categories/&lt;--ID--&gt;/products",</span>
              <span style="padding-left: 25px;">"action": "GET"</span>
            <span style="padding-left: 20px;">&rbrace;</span>
          <span style="padding-left: 15px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>

        <hr />

        <h4>Ejemplo solicitud incorrecta</h4>
        <pre>
          <span class="type-request">HTML</span>

          <span style="padding-left: 10px;">POST https://fake-store-alpha.vercel.app/api/categories HTTP/1.1</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

        </pre>
        
        <h4>400 - Bad Request</h4>
        <pre>
          <span class="type-request">HTML</span>
          
          <span style="padding-left: 10px;">HTTP/1.1 400 Bad Request</span>
          <span style="padding-left: 10px;">Content-Type: application/json; charset=utf-8</span>

          <span style="padding-left: 10px;">&lbrace;</span>
          <span style="padding-left: 15px;">"message": "Error verifying the data required to create a new category",</span>
          <span style="padding-left: 15px;">"status": 400,</span>
          <span style="padding-left: 15px;">"errors": &lbrack;</span>
            <span style="padding-left: 20px;">"The value of the 'name' property is required",</span>
            <span style="padding-left: 20px;">"The value of the 'description' property is required"</span>
          <span style="padding-left: 15px;">&rbrack;</span>
          <span style="padding-left: 10px;">&rbrace;</span>

        </pre>
      </section>

      <hr class="big-divisor"/>

      <section id="get-category">
        <h3><span class="get-method">GET</span> - Obtener Categoría</h3>
        <p>Busca la categoría según su id en la base de datos. Si lo encuentra retorna los datos de la categoría, en caso contrario retorna una respuesta con un mensaje de error.</p>

        <h4>Ejemplo solicitud correcta</h4>
      </section>
    </section>
  </main>

  <%# Scripts %>
  <%- include('../utils/scripts') %>
</body>
</html>